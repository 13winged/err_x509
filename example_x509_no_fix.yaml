# ============================================
# Example Configuration for err_x509
# ============================================
# This is an example YAML file that shows the format
# err_x509 expects. Copy your actual configuration
# into this format, or use this as a template.
#
# Place this file in the same folder as err_x509.exe
# and rename it to x509_no_fix.yaml
# ============================================

# Basic Clash configuration
port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
allow-lan: false
mode: global
log-level: info
external-controller: '127.0.0.1:9090'

# DNS Configuration (optional)
dns:
  enable: true
  listen: :53
  enhanced-mode: redir-host
  nameserver:
    - 8.8.8.8
    - 1.1.1.1

# Proxy Providers (optional)
proxy-providers:
  provider1:
    type: http
    url: "https://example.com/subscribe"
    interval: 3600
    path: ./providers/provider1.yaml
    health-check:
      enable: true
      interval: 600
      url: http://www.gstatic.com/generate_204

# Proxies Section
# ===============
# This is the section that err_x509 will process.
# Each proxy should be on a single line in the format:
# - { name: ..., type: ..., server: ..., port: ..., password: ... }
#
# After running err_x509, skip-cert-verify: true will be added
# to each proxy entry automatically.
proxies:
  # Trojan proxies
  - { name: Trojan-Example, type: trojan, server: tr.example.com, port: 443, password: your-password }

  # Example with other proxy types
  - { name: Shadowsocks-Example, type: ss, server: ss.example.com, port: 8388, password: your-password, cipher: aes-256-gcm }
  - { name: VMess-Example, type: vmess, server: vmess.example.com, port: 443, uuid: your-uuid-here, alterId: 0, cipher: auto }
  - { name: SOCKS5-Example, type: socks5, server: socks.example.com, port: 1080, username: user, password: pass }

# Proxy Groups (optional)
proxy-groups:
  - name: üöÄ Auto
    type: url-test
    proxies:
      - Moldova
      - Netherlands
      - Portugal
      - Belgium
      - Canada
    url: http://www.gstatic.com/generate_204
    interval: 300

  - name: üéØ Selector
    type: select
    proxies:
      - üöÄ Auto
      - DIRECT
      - Moldova
      - Netherlands

  - name: üåç Streaming
    type: select
    proxies:
      - üöÄ Auto
      - Moldova
      - Netherlands
      - DIRECT

# Rules (optional)
rules:
  - DOMAIN-SUFFIX,google.com,üéØ Selector
  - DOMAIN-SUFFIX,youtube.com,üåç Streaming
  - DOMAIN-SUFFIX,netflix.com,üåç Streaming
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - GEOIP,CN,DIRECT
  - MATCH,üéØ Selector

# ============================================
# IMPORTANT NOTES:
# ============================================
# 1. Only the "proxies:" section will be modified
# 2. Each proxy must be on ONE LINE in the format shown above
# 3. After running err_x509.exe, you'll get x509_fixed.yaml
# 4. Use x509_fixed.yaml in your Clash client
# ============================================